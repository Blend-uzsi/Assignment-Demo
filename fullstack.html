
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>What is Full‑Stack?</title>
  <link rel="stylesheet" href="./assets/styles.css"/>
  <style>
    .diagram{display:flex;justify-content:center;align-items:center;padding:8px}
    svg{max-width:900px;width:100%;height:auto}
    .log{height:140px;overflow:auto}
    .row{display:grid;grid-template-columns:1fr;gap:12px}
    @media(min-width:900px){.row{grid-template-columns:1.2fr .8fr}}
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>What is Full‑Stack?</h1>
      <span class="badge">Client → Server → Database</span>
    </div>
    <div class="card">
      <p>Full‑stack development covers the <strong>front‑end</strong> (what users see), the <strong>back‑end</strong> (server &amp; APIs), and the <strong>database</strong> (persistent data). The browser sends a request to the server, which queries a database and returns JSON the UI renders.</p>
      <div class="diagram">
        <svg viewBox="0 0 900 240" role="img" aria-label="Client to Server to Database">
          <defs>
            <filter id="shadow"><feDropShadow dx="0" dy="2" stdDeviation="4" flood-opacity=".5"/></filter>
          </defs>
          <rect x="40" y="60" rx="14" ry="14" width="200" height="120" fill="#0b1220" stroke="#374151" filter="url(#shadow)"/>
          <text x="140" y="110" text-anchor="middle" fill="#e5e7eb" font-size="16">Client</text>
          <text x="140" y="134" text-anchor="middle" fill="#9ca3af" font-size="12">HTML • CSS • JS</text>

          <rect x="350" y="60" rx="14" ry="14" width="200" height="120" fill="#0b1220" stroke="#374151" filter="url(#shadow)"/>
          <text x="450" y="110" text-anchor="middle" fill="#e5e7eb" font-size="16">Server (API)</text>
          <text x="450" y="134" text-anchor="middle" fill="#9ca3af" font-size="12">Routes • Auth • Logic</text>

          <rect x="660" y="60" rx="14" ry="14" width="200" height="120" fill="#0b1220" stroke="#374151" filter="url(#shadow)"/>
          <text x="760" y="110" text-anchor="middle" fill="#e5e7eb" font-size="16">Database</text>
          <text x="760" y="134" text-anchor="middle" fill="#9ca3af" font-size="12">Tables • Queries</text>

          <polygon points="260,120 340,120 330,128 330,112" fill="#f59e0b"/>
          <text x="300" y="108" text-anchor="middle" fill="#f59e0b" font-size="12">GET /api/items</text>

          <polygon points="560,120 640,120 630,128 630,112" fill="#f59e0b"/>
          <text x="600" y="108" text-anchor="middle" fill="#f59e0b" font-size="12">SELECT * FROM items</text>
        </svg>
        </div>
      
    </div>

    <div class="row">
      <div class="card">
        <h2>Demo: Simulated API request</h2>
        <p>Click to “load” items as if from <code>/api/items</code>. We simulate a server so this works from a plain file without hosting.</p>
        <button class="btn" id="loadBtn">Load Items</button>
        <div id="ui" class="card" style="margin-top:12px">
          <strong>Items:</strong>
          <ul id="list"></ul>
        </div>
      </div>

      <div class="card">
        <h3>“Network” log</h3>
        <div id="log" class="log alert"></div>
      </div>
    </div>

    <div class="card">
<pre><code>// Key snippet
const fakeDb = [{id:1,name:"Notebook"},{id:2,name:"Pencil"}];
function fakeFetch(url){
  return new Promise((resolve,reject)=>{
    setTimeout(()=>{
      if(url === "/api/items"){ resolve({ status:200, json:()=>fakeDb }); }
      else{ reject(new Error("Not Found")); }
    }, 600);
  });
}

document.getElementById("loadBtn").addEventListener("click", async () => {
  log("&gt; GET /api/items");
  try{
    const res = await fakeFetch("/api/items");
    log("&lt; 200 OK with " + res.json().length + " items");
    render(res.json());
  }catch(err){
    log("! " + err.message, true);
  }
});</code></pre>
    </div>
  </div>

  <script>
    const logEl = document.getElementById("log");
    const listEl = document.getElementById("list");

    const fakeDb = [{id:1,name:"Notebook"},{id:2,name:"Pencil"},{id:3,name:"Eraser"}];
    function fakeFetch(url){
      return new Promise((resolve,reject)=>{
        setTimeout(()=>{
          if(url === "/api/items"){ resolve({ status:200, json:()=>fakeDb }); }
          else{ reject(new Error("Not Found")); }
        }, 600);
      });
    }
    function log(msg, isErr=false){
      const div = document.createElement("div");
      div.textContent = msg;
      div.className = "alert " + (isErr ? "err":"ok");
      logEl.prepend(div);
    }
    function render(items){
      listEl.innerHTML = "";
      items.forEach(it=>{
        const li = document.createElement("li");
        li.textContent = `${it.id}. ${it.name}`;
        listEl.appendChild(li);
      });
    }

    document.getElementById("loadBtn").addEventListener("click", async () => {
      log("> GET /api/items");
      try{
        const res = await fakeFetch("/api/items");
        log("< 200 OK • " + res.json().length + " items");
        render(res.json());
      }catch(err){
        log("! " + err.message, true);
      }
    });
  </script>
</body>
</html>
